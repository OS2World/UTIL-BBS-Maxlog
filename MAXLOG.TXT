Maxlog Documentation v1.3

Written by: Pete Norloff, 109/347@fidonet  2/10/91

modified to include Binkleyterm log files 3/3/91
bug fixes, minor functional additions, version 1.3 10/5/91

SUMMARY
-------
Maxlog is a fairly simple program for generating statistical
bulletins for a Maximus BBS.

Maxlog generates a list of the most popular 45 files along with
a few overall statistics like total number of files downloaded
during a given period, total number of K bytes downloaded, and
total number of different files downloaded.

In addition to the files bulletin, Maxlog also generates a summary
graph showing the average percent of system time used by hour over
an average day.

Maxlog can now accept Binkleyterm log files in addition to Maximus
files.

New to version 1.3:
  Fixed a bug handling outbound mail calls under Binkley.
  Fixed a bug that caused a trap with files without paths.
  Eliminated the logging of files with the ".RSP" extention.

OPERATION
---------
Maxlog maintains a data file which it produces from the log files
generated by Maximus and Binkleyterm.  Since I created this
program for my own use, and I use Maximus's "trace" log mode, the
program is likely to work only if you use the trace mode of event
logging.

It is VERY IMPORTANT TO NOTE that Maxlog *DELETES* log files.  The
way Maxlog maintains its data file is that every time it is run,
it extracts statistics from the log files you name, appends those
statistics to Maxlog.Dat, then deletes the log files.  In the
notes below, I describe the "Archive" keyword in the configuration
file which instructs Maxlog to archive log file data to a file
called <filename>.Sav, where <filename> is the name of your log
file without the extention.  If you use this feature, no data is
actually lost, it just moves from your logfile to the save file
every time you run Maxlog.

Maxlog should be put in with your other daily events and run once
per day.  It must be run when no log files are open.  If by
chance, a copy of Binkleyterm or Maximus is still running, that
log file (or those log files) will be skipped.  It is not a good
practice to let Maxlog run when Bink or Max is still running.

Maxlog is an OS/2 application.  I may get around to binding it one
of these days, but I have no need for a DOS version of the
program.

The program can be run with a single parameter: "skip" as in
"Maxlog skip".  This will cause the program to re-generate the
bulletins from the data file without attempting to capture any
more data from the log files.  It is perfectly safe to run Maxlog
in this mode while callers are online.

Maxlog can create bulletins for up to 4 Maximus nodes (or more if
you want to edit the source code).  It can sumarize data over a
period of 1 to 365 days.

If you are interested in two sets of bulletins - one for Max and
the other for Bink, Maxlog can be run from two seperate
subdirectories.  Set one configuration file for 0 Max log files
and >0 Bink log files; set the other one for the opposite.


EXAMPLE COMMAND FILE FOR RUNNING MAXLOG
---------------------------------------
@Echo Off
REM update activity bulletins
if exist c:\max\active??.bbs goto leave
C:
cd \Max
Maxlog
copy Top_Dl.Txt Bulletin
cd \Bink
Echo

:leave


MAXLOG CONFIGURATION FILE (Maxlog.Cfg)
--------------------------------------
; This line describes the BBS as you want it to appear in the
; bulletins
Name the OS/2 Shareware BBS

; This is the number of log files to be processed.
NFiles 2

; This line contains the file names for each of the files to be
; processed.  All file names must eb on this one line.
FileNames Max1.Log Max2.Log

; This is the number of Binkley log files to be processed.
NBinkFiles 2

; This line contains the file names for each of the files to be
; processed.  All file names must eb on this one line.
BinkFileNames d:\Bink\Bink.log d:\Node2\Bink.log

; This defines the name of you outbound directory.  Any file in
; the Binklog which has this path or any path below it will not
; be counted as a file request or included in the Top_Dl bulletin.
Outbound c:\Bink\Outbound

; The number of days to keep and produce bulletins for.
Days 90

; The presence of this keyword forces Maxlog to append old
; logfiles to a save file with the name <filename>.Sav. (where
; <filename> would be "Max" for a logfile named "Max.Log".
Archive

; This line defines the number of text lines in the usage graph
UsageLines 20


EXAMPLE OUTPUT
--------------
Top_Dl.Txt:
Top Files downloaded from the OS/2 Shareware BBS: 
Generated: 03-03-1991 at 15:13
     ALLFILES.ZIP 432     PMDMAP10.ZIP  49      CDRIVER.ZIP  37
        PMZIP.ZIP 116      REVERSI.ZIP  49      PMPAINT.ZIP  36
       IBMOS2.ZIP 111       GRALIG.ZIP  47     OS2YOU18.ZIP  35
         NEWS.ZIP  93     COMPRESS.ZIP  45     SIMPSONS.ZIP  34
     JPOS2INI.ZIP  92     PSTCRYPT.ZIP  45     OS2ICONS.ZIP  34
     OS2WORLD.ZIP  82     EZYCOPY1.ZIP  44       ALPM15.ZIP  34
      ASTRO20.ZIP  79       WORDOS.ZIP  44     OS2YOU17.ZIP  34
      CLIP11B.ZIP  76       SNTFRA.ZIP  43      SEMINAR.ZIP  34
       BATTLE.ZIP  63     OS2YOU16.ZIP  43     PMCOM107.ZIP  33
         NEKO.ZIP  60     PLAYBILL.ZIP  42     OS2S13UP.ZIP  32
       ARC13P.ZIP  54       SEEPM2.ZIP  42       MARYDL.ZIP  32
      PMCHESS.ZIP  52       BRICK2.ZIP  39      SMK_DLL.ZIP  31
       BLKCHA.ZIP  52       RXCOMM.ZIP  38      SMK_SOL.ZIP  31
      BOWLIBM.ZIP  52       PMLOAD.ZIP  38     PMVIEW4A.ZIP  31
       CALIGU.ZIP  50       WHYOS2.ZIP  38     SHUTDWN3.ZIP  31

For a period covering the last 90 days:
Total number of files downloaded: 9022
Total number of K bytes downloaded: 523751
A total of 1134 different files have been downloaded


Hours.Txt:

Percentage of system usage by hour, generated: 03-03-1991 at 15:13
Summarized over the last 90 days
100%
 95%
 90%
 85%
 80%                                         Û
 75%                                Û  Û  Û  Û  Û  Û  Û  Û                 Û
 70%  Û                          Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û     Û
 65%  Û                          Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 60%  Û  Û                    Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 55%  Û  Û                    Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 50%  Û  Û                 Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 45%  Û  Û                 Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 40%  Û  Û  Û              Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 35%  Û  Û  Û  Û           Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 30%  Û  Û  Û  Û           Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 25%  Û  Û  Û  Û           Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 20%  Û  Û  Û  Û        Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 15%  Û  Û  Û  Û        Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
 10%  Û  Û  Û  Û  Û     Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
  5%  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û  Û
      0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23


Also, two additional files are generated: All_Dl.Txt and Usage.Txt
These two files are raw statistics for Sysop info only.


FUTURE PLANS
------------
I have tried to make the data collected in Maxlog.Dat fairly
general so that additional viewing programs could be put together
in the future.  One program I'd like to write is a PM program that
lets you view the system activity by day in a graphic form. 
Something with 24 lines and 60 columns representing the minutes
of the day, with different colors representing Binkley activity
and Maximus activity.  I know this might be getting a bit carried
away, but heck, I'm having a good time.

Sooner than a PM program, I plan to make the chart above
distinguish between Bink and Max usage.  

Thanks to John Tarbox for ideas on presentation, and to Emmitt
Dove for prodding me into including Binkley activity.

I welcome comments and suggestions.
 
Pete Norloff
